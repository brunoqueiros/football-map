'use client';
import React, { useState } from 'react';
import Image from 'next/image';

const Crest: React.FC<{ src: string; name: string; }> = ({ src, name, ...rest }) => {
  const [imgSrc, setImgSrc] = useState(`/logos/${src}.svg`);
  const [errorCount, setErrorCount] = useState(0);

  return (
    <div className="w-10 h-10 flex justify-center">
      <Image
        {...rest}
        src={imgSrc}
        width={35}
        height={35}
        alt={name}
        // placeholder="blur"
        // blurDataURL="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20width%3D%271365.333%27%20height%3D%271706.667%27%20viewBox%3D%270%200%201024%201280%27%3E%3Cpath%20d%3D%27M24.8%201.9C15.1%205.1%207.3%2012.2%202.6%2022L.5%2026.5.2%20382C0%20630%20.2%20743.4%201%20757c2.4%2042.7%207.1%2072.7%2016.5%20105.7%2014.5%2050.4%2038.2%2091%2074%20126.8%2031.2%2031.3%2055%2047.6%20135.9%2093.4%2010.9%206.2%2030.2%2017.6%2043%2025.3%2036%2021.9%2048.3%2028.7%2090.1%2049.8%2021.5%2010.8%2042.2%2021.6%2046%2024%2024%2014.7%2044.5%2036.1%2069%2071.8%2012.2%2017.8%2018.5%2023%2031%2025.3%206.4%201.2%2011.6.6%2019.1-2.2%206.9-2.6%2012.5-7.7%2018.6-16.8%2027.5-40.9%2060.7-72%20103.3-96.6%209.8-5.7%2033.9-17.9%2068.5-34.8%209.6-4.7%2027.3-14.4%2039.3-21.6s32.3-19%2045-26.2c31.9-18.1%2059.8-34.8%2073.6-43.9%2094.1-62.2%20137.3-138.8%20148.3-263.5%201-12.1%201.3-85.4%201.3-380v-365l-2.6-5.5C1014%208.3%201000.5.1%20985%201.2c-9.7.7-15.7%204-28%2015.3-11.9%2010.8-22.9%2018.6-37.6%2026.2C873.8%2066.5%20815.6%2079%20750.1%2079c-85.4%200-138.6-16.5-205.6-63.8C526.7%202.6%20522.3.7%20512%20.7c-6.3%200-8.6.5-14.4%203.1-3.7%201.8-9.8%205.4-13.5%208.1-52.3%2038.4-98.8%2057.5-157.1%2064.6-18.4%202.2-67.1%203.1-86.5%201.6-51-4.1-95.9-15.3-130.8-32.7-18.5-9.3-30.2-17.3-44.9-30.9-5.3-4.9-11.5-9.6-14.6-11.1C42.8-.1%2032.6-.7%2024.8%201.9%27%2F%3E%3C%2Fsvg%3E"
        onError={() => {
          // if (errorCount === 1) {
          //   setImgSrc("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20width%3D%271365.333%27%20height%3D%271706.667%27%20viewBox%3D%270%200%201024%201280%27%3E%3Cpath%20d%3D%27M24.8%201.9C15.1%205.1%207.3%2012.2%202.6%2022L.5%2026.5.2%20382C0%20630%20.2%20743.4%201%20757c2.4%2042.7%207.1%2072.7%2016.5%20105.7%2014.5%2050.4%2038.2%2091%2074%20126.8%2031.2%2031.3%2055%2047.6%20135.9%2093.4%2010.9%206.2%2030.2%2017.6%2043%2025.3%2036%2021.9%2048.3%2028.7%2090.1%2049.8%2021.5%2010.8%2042.2%2021.6%2046%2024%2024%2014.7%2044.5%2036.1%2069%2071.8%2012.2%2017.8%2018.5%2023%2031%2025.3%206.4%201.2%2011.6.6%2019.1-2.2%206.9-2.6%2012.5-7.7%2018.6-16.8%2027.5-40.9%2060.7-72%20103.3-96.6%209.8-5.7%2033.9-17.9%2068.5-34.8%209.6-4.7%2027.3-14.4%2039.3-21.6s32.3-19%2045-26.2c31.9-18.1%2059.8-34.8%2073.6-43.9%2094.1-62.2%20137.3-138.8%20148.3-263.5%201-12.1%201.3-85.4%201.3-380v-365l-2.6-5.5C1014%208.3%201000.5.1%20985%201.2c-9.7.7-15.7%204-28%2015.3-11.9%2010.8-22.9%2018.6-37.6%2026.2C873.8%2066.5%20815.6%2079%20750.1%2079c-85.4%200-138.6-16.5-205.6-63.8C526.7%202.6%20522.3.7%20512%20.7c-6.3%200-8.6.5-14.4%203.1-3.7%201.8-9.8%205.4-13.5%208.1-52.3%2038.4-98.8%2057.5-157.1%2064.6-18.4%202.2-67.1%203.1-86.5%201.6-51-4.1-95.9-15.3-130.8-32.7-18.5-9.3-30.2-17.3-44.9-30.9-5.3-4.9-11.5-9.6-14.6-11.1C42.8-.1%2032.6-.7%2024.8%201.9%27%2F%3E%3C%2Fsvg%3E");
          // } else {
          //   setErrorCount(errorCount + 1);
          setImgSrc(`/logos/${src}.png`);
          // }
        }}
      />
    </div>
  );
};

export default Crest;
